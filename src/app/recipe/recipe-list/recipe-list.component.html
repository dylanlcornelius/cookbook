<app-loading-modal *ngIf="loading"></app-loading-modal>
<app-notification-modal [notificationModalParams]="notificationModalParams"></app-notification-modal>

<div class="d-flex justify-content-center">
  <h2>
    The Recipes
  </h2>
</div>
<br/>

<div [hidden]="loading">
  <div class="button-row">
    <a mat-mini-fab matTooltip="Add Recipe" color="primary" [routerLink]="['/recipe/edit']" class="row-button">
      <mat-icon>add</mat-icon>
    </a>

    <button mat-mini-fab matTooltip="All Recipes" (click)="toggleAuthor(uid)" *ngIf="!isAuthor" class="row-button">
      <mat-icon>check_box_outline_blank</mat-icon>
    </button>
    <button mat-mini-fab matTooltip="My Recipes" (click)="toggleAuthor(uid)" *ngIf="isAuthor" class="row-button">
      <mat-icon>check_box</mat-icon>
    </button>
  </div>

  <div class="full-width d-flex justify-content-center">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)"/>
      <mat-placeholder>
        <mat-icon>search</mat-icon>
      </mat-placeholder>
    </mat-form-field>
  </div>

  <div *ngIf="!loading" class="row justify-content-center no-gutters">
    <mat-card *ngFor="let data of dataSource.filteredData; trackBy: indentify" class="recipe-card col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 mat-elevation-z4" [routerLink]="['/recipe/detail/', data.id]">
      <mat-card-header>
        <mat-card-title>{{data.name}}</mat-card-title>
        <mat-card-subtitle>{{data.time}} {{data.time ? 'minutes' : ''}}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <!-- Servings: {{data.servings}}<br/> -->
        <!-- Calories: {{data.calories}}<br/> -->
        Quantity: {{data.count}}
      </mat-card-content>
      <mat-card-actions (click)="$event.stopPropagation()">
          <button mat-button color="warn" (click)="removeIngredients(data.id)">Cook</button>
          <button mat-button color="primary" (click)="addIngredients(data.id)">Add to List</button>
      </mat-card-actions>
    </mat-card>
  </div>

  <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" class="full-width"></mat-paginator>
</div>
